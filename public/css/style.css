/* public/css/style.css */

/* --- Reseteo y Box Sizing --- */
html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}
/* --- Estilos para la estructura de layout principal --- */
body, html {
  margin: 0;
  height: 100%;
  overflow: hidden; /* El scroll se manejará en los hijos */
}

.header {
  /* El header ya no es fijo, es parte del flujo flex-column del body */
  flex-shrink: 0; /* Evita que el header se encoja */
}

.app-container {
  display: flex;
  overflow: hidden; /* Los hijos manejarán su propio scroll */
}

#sidebarMenu {
  flex-shrink: 0; /* Evita que el sidebar se encoja */
  width: 250px; /* Ancho por defecto del sidebar. Ajusta si es necesario. */
  overflow-y: auto; /* ¡La clave! Permite el scroll vertical si el contenido excede la altura */
  transition: width 0.3s ease-in-out;
  /* El resto de tus estilos de sidebar (color, etc.) se mantienen */
}

#main-content {
  flex-grow: 1; /* Ocupa todo el espacio horizontal restante */
  overflow-y: auto; /* ¡La clave! Permite el scroll vertical para el contenido principal */
  background-color: #f8f9fa; /* Un color de fondo para el área de contenido */
}

/* Contenido dentro del main para darle padding.
   Se usa una clase específica (.content-padding) para evitar conflictos con layouts de altura completa. */
#main-content > .content-padding {
  padding: 1.5rem;
}

/* --- Estilos para la barra lateral colapsable --- */

/* Cuando la barra está colapsada */
body.sidebar-collapsed #sidebarMenu,
nav#sidebarMenu.sidebar.collapse:not(.show) { /* Compatibilidad con Bootstrap si se usa */
  width: 80px !important; /* Ancho reducido para mostrar solo íconos */
}

/* Prepara los spans para la animación y evita saltos de línea */
#sidebarMenu .nav-link span,
#sidebarMenu .sidebar-heading span {
  min-width: 0; /* Permite que el span se encoja correctamente */
  transition: opacity 0.2s ease-in-out, width 0.2s ease-in-out;
  opacity: 1;
  width: auto;
  white-space: nowrap; /* Evita que el texto se divida en varias líneas */
}

/* Oculta el texto de los enlaces cuando la barra está colapsada */
body.sidebar-collapsed #sidebarMenu .nav-link span, 
nav#sidebarMenu.sidebar.collapse:not(.show) .nav-link span,
body.sidebar-collapsed #sidebarMenu .sidebar-heading span,
body.sidebar-collapsed #sidebarMenu .btn span { /* Se mantiene por si se añade otro botón */
  opacity: 0;
  width: 0;
  overflow: hidden; /* Importante para que no ocupe espacio */
}

/* Mantiene los íconos fijos a la izquierda durante el colapso */
body.sidebar-collapsed #sidebarMenu .nav-link,
nav#sidebarMenu.sidebar.collapse:not(.show) .nav-link {
  justify-content: flex-start; /* Mantiene el contenido alineado a la izquierda */
  /* El padding-left de px-3 (1rem) se mantiene, así que el ícono no se mueve */
}

/* Asegura que los íconos no tengan margen extra cuando está colapsado */
body.sidebar-collapsed #sidebarMenu .nav-link i {
  margin-right: 0 !important;
}

/* Solución para que un elemento con .row no se coma el padding de su padre
   cuando también es el contenedor principal con padding. */
form.row.p-4 {
  margin: 0;
}


/* --- Estilos para tablas con altura fija y scroll --- */
/* Ahora esta clase se encarga de que la tabla llene el espacio de su contenedor flex */
.table-fixed-height {
  width: 100%; /* Ocupa todo el ancho */
  height: 100%; /* Ocupa toda la altura del .card-body */
  overflow-y: auto; /* Muestra el scroll vertical solo si es necesario */
}

.table-fixed-height thead th {
  position: sticky; /* Fija la cabecera de la tabla */
  top: 0; /* La pega en la parte superior del contenedor con scroll */
  z-index: 1; /* Asegura que la cabecera esté por encima de las filas */
}

/* Asegura que todas las filas de la tabla tengan una altura consistente */
.table-fixed-height > .table > tbody > tr {
  /* Ajusta este valor para que coincida con la altura de tus filas con contenido */
  height: 3rem; 
}
