doctype html
html(lang="es").h-100
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Hospital Horizon
    link(rel="stylesheet", href="/bootstrap/css/bootstrap.min.css")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css")
    link(rel="stylesheet", href="/css/style.css")
    
    //- Bloque para que las vistas hijas puedan aÃ±adir sus propios estilos
    block styles
  body.d-flex.flex-column.h-100
    include Shared/Header.pug 

    //- Contenedor para las alertas (Flash y JS)
    #alert-container.position-fixed.top-0.start-50.translate-middle-x(style="z-index: 2001; width: 90%; max-width: 600px;")
      //- Mensajes Flash del Servidor
      if success_messages && success_messages.length > 0
        each msg in success_messages
          .alert.alert-success.alert-dismissible.fade.show.shadow-sm.mt-3(role="alert")
            = msg
            button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")
      if error_messages && error_messages.length > 0
        each msg in error_messages
          .alert.alert-danger.alert-dismissible.fade.show.shadow-sm.mt-3(role="alert")
            = msg
            button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")
      if warning_messages && warning_messages.length > 0
        each msg in warning_messages
          .alert.alert-warning.alert-dismissible.fade.show.shadow-sm.mt-3(role="alert")
            = msg
            button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")

    .app-container.d-flex.flex-grow-1

      if usuarioAutenticado
        include Shared/Siderbar.pug

      if !usuarioAutenticado
        include Shared/ModalLogin.pug

      main#main-content.flex-grow-1.h-100
        block content

    
    block modals 
      if usuarioAutenticado
        include Shared/ModalPerfil.pug
    
    script(src="/bootstrap/js/bootstrap.bundle.min.js")
    script(src="/js/main.js")
    block scripts
      if usuarioAutenticado
        script(src="/js/formPerfilPass.js")
        script(src="/js/formPerfilInfo.js")