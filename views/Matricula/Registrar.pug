extends ../layout

block styles
  //- Select2 CSS para Bootstrap 5
  link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css")
  link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css")

block content
  .container-fluid.d-flex.flex-column.h-100.p-4
    form#form-registrar-matricula.row.shadow-lg.rounded.border.bg-light.p-4.d-flex.flex-column.flex-grow-1.justify-content-between(novalidate autocomplete="off")
      //- Contenedor para mostrar errores generales de la API
      #general-error.alert.alert-danger.d-none

      h3.text-center.my-4 Registrar Nueva Matrícula

      //- Sección de Información del Titular
      .col-12.px-4.py-4.border.rounded
        h5.mb-3 Información del Titular
        .row.gy-4
          .col-12
            label.form-label(for="select-usuario") Buscar Titular por DNI, Nombre o Apellido
            select#select-usuario.form-select(name="usuario_id" required style="width: 100%;")
            .invalid-feedback#error-usuario_id El titular es obligatorio.

      //- Sección de Detalles de la Matrícula
      .col-12.p-4.border.mt-4.rounded
        h5.mb-3 Detalles de la Matrícula
        .row.gy-4
          .col-md-6
            label.form-label(for="numero") Número de Matrícula
            input.form-control(type="text" id="numero" name="numero" required placeholder="Ej. 12345")
            .invalid-feedback#error-numero El número de matrícula es obligatorio.
          .col-md-6
            label.form-label(for="tipo") Tipo de Matrícula
            input.form-control(type="text" id="tipo" name="tipo" required placeholder="Ej. Nacional, Provincial")
            .invalid-feedback#error-tipo El tipo de matrícula es obligatorio.
          .col-12
            label.form-label(for="entidad_emisora") Entidad Emisora
            input.form-control(type="text" id="entidad_emisora" name="entidad_emisora" required placeholder="Ej. Ministerio de Salud")
            .invalid-feedback#error-entidad_emisora La entidad emisora es obligatoria.
          .col-md-6
            label.form-label(for="fecha_emision") Fecha de Emisión
            input.form-control(type="date" id="fecha_emision" name="fecha_emision" required)
            .invalid-feedback#error-fecha_emision La fecha de emisión es obligatoria.
          .col-md-6
            label.form-label(for="fecha_vencimiento") Fecha de Vencimiento
            input.form-control(type="date" id="fecha_vencimiento" name="fecha_vencimiento" required)
            .invalid-feedback#error-fecha_vencimiento La fecha de vencimiento es obligatoria.

      //- Botones de acción
      .col-12.px-4.pt-4.d-flex.justify-content-end.pb-4
        a.btn.btn-secondary.me-2(href="/matriculas/Listar")
          i.bi.bi-arrow-left.me-2
          | Volver
        button.btn.btn-success(type="submit")
          i.bi.bi-save-fill.me-2
          | Registrar Matrícula

block scripts
  //- jQuery y Select2 JS
  script(src="https://code.jquery.com/jquery-3.6.0.min.js")
  script(src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js")

  //- Script de validación y envío del formulario de registro de matrícula
  script(src="/js/matricula/formMatriculaRegister.js")
